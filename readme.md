Библиотека состоит из трех проектов:  

1.	Проект /vs2013/Neurons_HoG_Classification_Lib/ статической библиотеки, в которой находится весь функционал по обучению, обработки и распознаванию. Библиотека компилируется в файл Neurons_HoG_Classification_Lib.lib, интерфейс к реализовываемым в библиотеке функциям находится в файле src/ImageRecognition.h.  

2.	Проект /vs2013/ консольного приложение, который через командную строку обращается ко всем функциям статической библиотеки. Приложение компилируется в  Neurons_HoG_Classification.exe. Состоит только из одного файла main.cpp, там же пример вызова процедур библиотеки Neurons_HoG_Classification_Lib.lib.  
3.	Проект vs2013/PythonProj для создания обучающей и тестовой выборки по всем размеченным изображениям нейронов и фона, а также для построения графиков ROC-кривых [4]. Проект написан на языке Python и представляет собой два скрипта: /vs2013/PythonProj/train_test_picker.py и /vs2013/PythonProj/roc_curve.py. В скрипте train_test_picker.py задается путь к директориям, в которых находятся изображения нейронов и фона. На выходе этого скрипта генерируется два текстовых файла для обучающей и тестовой выборки. Обучающая и тестовая выборка задается единым форматом: это текстовый файл, в каждой строке которого написан относительный путь к изображению нейрона или фона и через пробел записывается метка класса: 1 - нейрон, 0 – фон. Пример содержимого текстового файла такого формата:  

>total_data/fg/Tv286_rnd913_fg_981_2212_48_48.jpg 1  
total_data/fg/30_rnd88_fg_1112_1064_24_24.jpg 1  
total_data/fg/27_rnd432_fg_1089_1309_24_24.jpg 1  
total_data/bg/31_rnd723_bg_961_1082_24_24.jpg 0  
total_data/bg/Tv265_rnd688_bg_3311_1889_36_36.jpg 0  

Данная выборка состоит из двух объектов-нейронов, и трех объектов фона.
В скрипте roc_curve.py задается путь к значениям ROC-кривой и к значениям ошибок разметки. По этим значениям строится изображение кривой через библиотеку [3].

Так как программа делает множество операций, выбор и установка параметров нужной команды осуществляется через аргументы командной строки. Команды и параметры для запуска консольного приложения:

1.	Обучение классификатора и сохранение модели.  
    Параметры:
```shell
	-t -m model_finename -d data_set_filename -c context_filename
```

**Выход:**
В файл model_finename запишется модель классификатора, сделанной по обучающей выборке image_set_filename. В файле context_filename задаются параметры классификатора, лучше использовать стандартный файл context.ini, в корне библиотеки.  


2\.	Тестирование классификатора на тестовой выборке и построение ROC-кривой [4].

Параметры:
```shell
	-l -m model_finename -d data_set_filename
```
**Выход:**
В папке с исполняемым файлом создастся папка rocs, в которую запишется значения ROC-кривой predictROC.txt. Модель классификатора прочитается из текстового файла model_finename, а данные из файла image_set_filename.  

3\.	Оптимизация параметра модели для распознавания через скользящее окно [7] и построение кривой ошибок распознавания.  
Параметры:
```shell
	-o -m model_finename -a image_set_filename
```

**Выход:**

*	В папке с исполняемым файлом создастся папка rocs, в которую запишется значения ROC-кривой [4] predictROC.txt. Модель классификатора прочитается из текстового файла model_finename, а данные из файла image_set_filename. В текстовом файле image_set_filename записан список xml файлов типа разметки, по которым будут делаться оптимизация параметра и вычисляться ошибка распознавания. В той же папке, в которой находится разметка снимка, должен находиться и сам снимок.  
*	Оптимальное значение параметра модели допишется в файл модели model_finename.  

4\.	Скользящее окно для снимка с микроскопа.
Параметры:
```shell
	-s -m model_finename -i image_filename
```

**Выход:**
Сделается распознавание нейронов на изображении model_finename, результат запишется в файл model_finename_rects в той же папке.  

5\.	Пороговая адаптивная бинаризация для выделения оболочек нейронов (нужна для сбора признаков нейронов)  
Параметры:
```shell
	-b -m model_finename -i image_filename –r output_image
```

**Выход:**
В файл output_image запишется бинаризация изображения входного снимка с микроскопа.
Проект написан на MS Visual Studio 2013 с билиотекой opencv 2.4.9. Скомпилированный для x32 системе есть в папке bin.
